<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ingresar frases</title>
    <link rel="icon" href="src/css/favicon16-19.png">
</head>
<body class="container-fluid">


<input type="text" class="col-md-5">
<input id="send" type="button" class="btn-primary btn" value="Send">

<pre id="objeto">

</pre>


<!--<div id="resultados">-->
<ul id="lista"></ul>

<p id="prueba"></p>

<!--</ul>-->
<!--</div>-->

<script src="https://www.gstatic.com/firebasejs/4.8.0/firebase.js"></script>
<script src="src/bootstrap-4.0.0-alpha.6-dist/js/jquery311.min.js"></script>
<script>
    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyAJo59m-l3-KCkkfG3aSsLEA0LtpGYP_OE",
        authDomain: "holamundo-f6f70.firebaseapp.com",
        databaseURL: "https://holamundo-f6f70.firebaseio.com",
        projectId: "holamundo-f6f70",
        storageBucket: "",
        messagingSenderId: "197716110736"
    };
    firebase.initializeApp(config);

    //obtener elementos
    const preObject = document.getElementById('objeto');
    const ulList = document.getElementById('lista');
    const prueba = document.getElementById('prueba');

    //crear referencias
    const dbRefObject = firebase.database().ref().child('object');
//    alert(dbRefObject);
//    console.log(dbRefObject);

    const dbRefList = dbRefObject.child('1');
//    alert(dbRefList);
//    console.log(dbRefList);
//    console.log("-____________________________________");
    //sincronizar cambios objeto
    //    dbRefObject.on('value', snap => console.log(snap.val()));

    //    dbRefObject.on('value', snap => {
    //        preObject.innerText = JSON.stringify(snap.val(),null,3);
    //    });


    //    dbR
//    //sincronizar cambios lista
//    dbRefList.on('child_added', snap => {
//        const li = document.createElement("li");
//        li.innerText = snap.val();
//        li.id = snap.key;
//        ulList.appendChild(li);
//    });

//    dbRefList.on('child_changed', snap => {
//        const liChanged = document.getElementById("snap.key");
//        liChanged.innerText = snap.val();
//    });
//    //
//    dbRefList.on('child_removed', snap => {
//        const liToRemove = document.getElementById("snap.key");
//        liToRemove.remove();
//    });


    $("#send").click(function () {
        var newPostRef = postsRef.push();

//        var ref = firebase.database().ref();
//        var postsRef = ref.child("object");
//        var newPostRef = postsRef.push();
//        var postId = newPostRef.key;
//        firebase.database().ref('object/' + postId).set({
//            english: "I hate you",
//            spanish: "Te odio",
//            author: "K"
//        });
    });


    //        var key;
    //        var starCountRef;
    //        var usuarios=new Array();
    // var ref = firebase.database().ref().child('/Usuario');
//    var query = firebase.database().ref("object/").orderByKey();
//    var query = firebase.database().ref().child("object");
//
//    console.log(query);
//    console.log("ñññññññññññññññññññññññññññññññññ");
//    for(let index in query){
//        console.log(index);
//    }

//
//    query.forEach(function (snapshot) {
//        console.log(snapshot);
//    })
//    ;


    //        query.once("value")
    //            .then(function (snapshot) {
    //                snapshot.forEach(function (childSnapshot) {
    //                    // key will be "ada" the first time and "alan" the second time
    //                    key = childSnapshot.key;
    //                    starCountRef = firebase.database().ref("object/"+key);
    //                    starCountRef.on('value', function (snapshot) {
    //                        console.log(snapshot.val());
    //                        usuarios.push([key,snapshot.val()]);
    //                    });
    //
    //                });
    //            });

</script>


<!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>-->

<script src="src/bootstrap-4.0.0-alpha.6-dist/js/tether140.min.js"></script>
<script src="src/bootstrap-4.0.0-alpha.6-dist/js/bootstrap.min.js"></script>
<link rel="stylesheet" href="src/bootstrap-4.0.0-alpha.6-dist/css/bootstrap.min.css">
<link rel="stylesheet" href="src/font-awesome/css/font-awesome.min.css">

<script src="src/js/send.js"></script>

</body>
</html>
